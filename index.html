<!DOCTYPE html>
<html>
<head>
    <title>Parent Test Page</title>
    <style>iframe { width: 100%; height: 50vh; border: 1px solid black; }</style>
</head>
<body>
    <h1>GitHub Page (Parent)</h1>
    <button id="send-to-child">Send Message to Child</button>
    <p id="message-from-child"></p>
    <iframe id="app-frame"></iframe>

    <script>
        const iframe = document.getElementById('app-frame');
        const testUrl = 'https://script.google.com/macros/s/AKfycbxPaNt_z0uRscltA5lyE_WTPogNs5d1mCqd7JDREyzJqUTHi0OPQlnh85f3ySpMTU4/exec'; // এখানে নতুন URL টি বসান
        iframe.src = testUrl;

        document.getElementById('send-to-child').addEventListener('click', () => {
            const message = { type: 'hello', text: 'Hello from GitHub!' };
            console.log('PARENT: Sending message ->', message);
            iframe.contentWindow.postMessage(message, '*');
        });

        window.addEventListener('message', (event) => {
            // এখানে অরিজিন চেক করা হচ্ছে না শুধু পরীক্ষার জন্য
            console.log('PARENT: Received message ->', event.data);
            document.getElementById('message-from-child').innerText = 'Message from child: ' + event.data.text;
        });
    </script>
</body>
</html>
